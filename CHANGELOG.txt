# üì¢ Summary

Version 1.10.x brings a comprehensive update to the addon, focusing on performance optimization, feature enhancements, and bug fixes. Key highlights include:

1. Major performance improvements, reducing memory usage and eliminating lag-causing memory leaks.
2. Significant enhancements to the information pane, making it more user-friendly and feature-rich.
3. Introduction of delve + dungeon + follower dungeon support, expanding functionality to match M+ expectations.
4. Extensive code refactoring for improved stability and maintainability.
5. Multiple bug fixes addressing issues with combat log processing, avoidable damage tracking, and UI elements.
6. Compatibility updates for The War Within expansion.
7. New configuration options for tracking leavers and low-performers.
8. Improvements to unsafe pulls detection accuracy.
9. Enhanced message handling and trigger refinements.
10. Compatibility for message triggers while not in an instance.

This update represents a substantial overhaul of the addon, setting the stage for future developments and ensuring a more robust and efficient user experience.

>‚ùó**Leavers and low performers may need to be wiped in a future version**‚ùó
>
> The way leavers and low performers are tracked is currently by GUID. This is to ensure that the addon will properly handle a scenario where a player changed their name, server, etc. To keep this performant, that is all that is stored. I will be digging into this soon, and a refactor is likely needed. Without this, reporting on metrics (servers, classes, specs, guilds, etc.) will be impossible.

# üôè Thank You

I'd like to express my gratitude to the following individuals who have contributed to the development of this addon:

- Locke38
- TAB
- Gutz
- `</TYLER>`
- All the friendly folks I've encountered while testing the various versions of the addon. 

**Without their contributions, this addon would not be where it is today. From testing to feedback, their contributions have been invaluable.**

# ü©π Patches

## üöÄ **1.10.3**: **Huge** optimization pass

> **Note**
>
This update began as a minor change to the information pane but evolved into a comprehensive addon overhaul. While the scope of changes typically warrants a version bump, we've opted for a patch release (e.g., 1.2.3 to 1.2.4) because most changes involve internal refactoring and optimization. This approach aligns with our versioning strategy of reserving minor version increases (e.g., 1.2.0 to 1.3.0) for user-facing feature additions or significant API changes.
>
> I greatly appreciate the feedback and suggestions from the community, and I'm excited to continue working on improving the addon. Please continue to provide feedback and suggestions, and I'll do my best to incorporate them into future updates. 
>
> **Thank you for your continued support!**

### **Information Pane Enhancements:**
   ---
   - The info pane is now significantly more user-friendly and intuitive.
   - All metrics are visible for all classes, with non-applicable metrics greyed out for clarity.
   - Added Back/Forward navigation to improve user experience.
   - Introduced channel selection for reporting metrics.
   - Additional features and improvements are planned for future updates.
      - Please note that the information pane is still a work in progress, and more features and improvements are planned for future updates.
      - Your feedback is imperative in shaping the future of the addon, so **please** don't hesitate to share your thoughts and ideas. Especially with UI changes!

### **New Features:**
   ---
   - Rolling messages are now supported, allowing for more dynamic and engaging communication.
      - The option is available in the configuration menu (General Settings, Core), and the default is set to "On".
      - For any events that have a pool of messages, we'll roll through the messages instead of picking a random one.
      - This helps for scenarios that have a large number of messages, and it also helps to avoid the same message being repeated too often.
   - Added delve support.
   - Added follower dungeon support.
   - Added normal dungeon support.
   - LFG QoL features: Will play a sound and display a message when a tank, healer, and/or DPS applies to your group.

   > All expected functionality that you'd expect from M+ is now available within delves, normal dungeons, and follower dungeons.
   > This is still a work in progress, and more will come when more is exposed in the Blizzard API. There will likely be bugs as well, so **please** report any issues you find.

### **Performance Improvements:**
   ---
   - Achieved significant performance enhancements across various components.
   - Resolved race conditions affecting Avoidable Damage tracking and damage events.
   - Substantial reduction in memory usage, addressing previous memory leaks that caused lag.

### **Code and Stability Enhancements:**
   ---
   - Streamlined codebase for better maintainability and easier future development.
   - Enhanced overall stability and reliability of the system.

### **Bug Fixes:**
   ---
   - Fixed issues with handling nil values in various functions to prevent runtime errors.
   - Corrected logic for handling combat log events to ensure accurate event processing.
   - Addressed memory leaks that previously caused performance degradation.
   - Addressed issues with the "clear" button in the info pane.
   - Addressed issues with NC still running background logic when disabled.
   - The info pane will no longer be visible (or functional / processing) when the addon is disabled.
   - Fixed an issue where the addon would crash when the player's name was not found in the combat log.
   - Fixed issues with instability regarding certain replacement strings; a much more robust system is in place to handle scenarios where we need to replace text based on unit frames instead of the player's name.
   - Fixed multiple issues with core logic:
      - Damage events will no longer prevent other events from being processed.
      - Avoidable damage will now be tracked correctly.
      - Avoidable damage events will no longer prevent other events from being processed.
   - Fixed issues with the "clear" button in the info pane.
   - Fixed an issue where interrupts were not correctly tracked due to the player's pet performing the interrupt (Warlocks for example).
## üöÄ **1.10.2**: Another small bugfix for the enabling/disabling of NC.
## üöÄ **1.10.1**: Bugfix for more TWW compatibility.

## üöÄ 1.10.0 Initial Release

- The War Within Fixes
   - Several bug fixes
   - All feasts updated
- New configuration options for tracking and reporting leavers and low-performers.
   - Special thanks to **Gutz** who suggested this and helped debug an issue!
- More work on the unsafe pulls functionality, it should be far more accurate at this point.
- Delves no longer throw errors
- Large refactor effort throughout 1.10.x to prepare for 2.x.x
- Lots of behind-the-scenes logic changing to the new, streamlined paradigms
- Option to toggle Brann Bronzebeard messages (selecting him as a Nemesis or Bystander)
- Multiple fixes for messages
   - You should see _much_ less triggers of messages when entering/leaving delves
   - Brann doesn't break messages with particular details / replacements
   - A little more hardening in non-problematic areas just to ensure reliability
- Special thanks to **</TYLER>** for the constant communication, testing, bug-reporting, etc. <3